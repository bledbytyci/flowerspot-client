(this.webpackJsonpflowrspot=this.webpackJsonpflowrspot||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},159:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},227:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),s=n.n(r),o=n(28),i=n.n(o),c=(n(128),n(129),n(11)),l=n(13),u=n(49),d=n.n(u),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e);var n=t.id,a=t.email,r=t.password,s=t.first_name,o=t.last_name,i=t.date_of_birth,l=t.is_admin;this.id=n||"",this.email=a||"",this.password=r||"",this.first_name=s||"",this.last_name=o||"",this.is_admin=l||!1,this.date_of_birth=i?d()(i):null}return Object(l.a)(e,[{key:"mapToSignUpApi",value:function(){var e={};return e.id=this.id,e.email=this.email,e.password=this.password,e.first_name=this.first_name,e.last_name=this.last_name,e.date_of_birth=this.date_of_birth.toDate(),e}},{key:"mapToLogInApi",value:function(){var e={};return e.email=this.email,e.password=this.password,e}}]),e}(),h=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e);var n=t.id,a=t.name,r=t.latin_name,s=t.sightnings,o=t.profile_picture,i=t.favorite,l=t.description,u=t.created_by;this.id=n||"",this.name=a||"",this.latin_name=r||"",this.sightnings=s||"",this.profile_picture=o||"",this.description=l||"",this.favorite=i||!1,this.created_by=new p(u)};h.mapFromApiList=function(e){return e?e.map((function(e){return new h(e)})):[]},h.mapFromFavApiList=function(e){return e?e.map((function(e){return new h(e.flower)})):[]};var f=n(64),g=n.n(f),b=g()({CREATE_FLOWER:null,CREATE_FLOWER_SUCCESS:null,CREATE_FLOWER_ERROR:null,UPDATE_FLOWER:null,UPDATE_FLOWER_SUCCESS:null,UPDATE_FLOWER_ERROR:null,GET_RANDOM_FLOWERS:null,GET_RANDOM_FLOWERS_SUCCESS:null,GET_RANDOM_FLOWERS_ERROR:null,GET_FLOWER_BY_ID:null,GET_FLOWER_BY_ID_SUCCESS:null,GET_FLOWER_BY_ID_ERROR:null,GET_FLOWERS:null,GET_FLOWERS_SUCCESS:null,GET_FLOWERS_ERROR:null,GET_FLOWERS_FILTERED:null,GET_FLOWERS_FILTERED_SUCCESS:null,GET_FLOWERS_FILTERED_ERROR:null,MARK_FLOWER_FAVORITE:null,MARK_FLOWER_FAVORITE_SUCCESS:null,GET_FAVORITE_FLOWERS:null,GET_FAVORITE_FLOWERS_SUCCESS:null,GET_FAVORITE_FLOWERS_ERROR:null,SET_SIGHTNINGS:null,SET_SIGHTNINGS_SUCCESS:null,SET_SIGHTNINGS_ERROR:null,DELETE_FLOWER:null,DELETE_FLOWER_SUCCESS:null,DELETE_FLOWER_ERROR:null,RESET_FLOWERS:null}),O=n(19),j=function e(){Object(c.a)(this,e),this.isValid=!0,this.validationMessages=Object(O.List)([])},E=Object(O.Map)({flower:new h,flowers:Object(O.List)(),validationModel:new j,isMarkedAsFavorite:!1,isLoadingSightnings:!1,isLoading:!1,isCreating:!1,isUpdating:!1,isLoadingFlowers:!1,isDeleting:!1}),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.GET_FAVORITE_FLOWERS:case b.GET_FLOWERS:case b.GET_RANDOM_FLOWERS:case b.GET_FLOWERS_FILTERED:return e.set("isLoadingFlowers",!0);case b.GET_FLOWER_BY_ID:return e.set("isLoading",!0);case b.CREATE_FLOWER:return e.set("isCreating",!0);case b.UPDATE_FLOWER:return e.set("isUpdating",!0);case b.SET_SIGHTNINGS:return e.set("isLoadingSightnings",!0);case b.GET_FLOWER_BY_ID_SUCCESS:return e.withMutations((function(e){e.set("flower",new h(t.payload)),e.set("isLoading",!1)}));case b.GET_FLOWERS_SUCCESS:case b.GET_RANDOM_FLOWERS_SUCCESS:case b.GET_FLOWERS_FILTERED_SUCCESS:case b.GET_FAVORITE_FLOWERS_SUCCESS:return e.withMutations((function(e){e.set("flowers",Object(O.List)(h.mapFromApiList(t.payload.flowers))),e.set("isLoadingFlowers",!1)}));case b.CREATE_FLOWER_SUCCESS:return e.withMutations((function(e){e.set("flower",new h(t.payload)),e.set("isCreating",!1)}));case b.SET_SIGHTNINGS_SUCCESS:return e.withMutations((function(e){e.set("flower",new h(t.payload)),e.set("isLoadingSightnings",!1)}));case b.MARK_FLOWER_FAVORITE:case b.MARK_FLOWER_FAVORITE_SUCCESS:return e.set("isMarkedAsFavorite",!0);case b.CREATE_FLOWER_ERROR:return e.withMutations((function(e){e.set("validationModel",t.payload),e.set("isCreating",!1)}));case b.UPDATE_FLOWER_ERROR:return e.withMutations((function(e){e.set("validationModel",t.payload),e.set("isUpdating",!1)}));case b.GET_FAVORITE_FLOWERS_ERROR:case b.GET_FLOWERS_ERROR:case b.GET_RANDOM_FLOWERS_ERROR:case b.GET_FLOWERS_FILTERED_ERROR:return e.withMutations((function(e){e.set("flowers",Object(O.List)()),e.set("isLoadingFlowers",!1)}));case b.DELETE_FLOWER:return e.set("isDeleting",!0);case b.DELETE_FLOWER_SUCCESS:case b.DELETE_FLOWER_ERROR:return e.set("isDeleting",!1);case b.SET_SIGHTNINGS_ERROR:return e.set("isLoadingSightnings",!1);case b.RESET_FLOWERS:return e.set("flowers",Object(O.List)());default:return e}},m=g()({LOG_IN_USER:null,LOG_IN_USER_SUCCESS:null,LOG_IN_USER_ERROR:null,LOG_OUT_USER:null,LOG_OUT_USER_SUCCESS:null,SIGN_UP_USER:null,SIGN_UP_USER_SUCCESS:null,SIGN_UP_USER_ERROR:null,GET_PROFILE:null,GET_PROFILE_SUCCESS:null,GET_PROFILE_BY_ID:null,GET_PROFILE_BY_ID_SUCCESS:null,GET_PROFILE_BY_ID_ERROR:null,CHECK_USER_LOGGED_IN:null,EDIT_PROFILE:null,EDIT_PROFILE_SUCCESS:null,EDIT_PROFILE_ERROR:null,DELETE_PROFILE:null,DELETE_PROFILE_SUCCESS:null,DELETE_PROFILE_ERROR:null}),_=Object(O.Map)({user:new p,userProfile:new p,isCreating:!1,isLoggedIn:!1,isUpdating:!1,isDeleting:!1,isLoading:!1,validationModel:new j}),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LOG_IN_USER:return e.withMutations((function(e){e.set("validationModel",new j)}));case m.SIGN_UP_USER:return e.withMutations((function(e){e.set("validationModel",new j),e.set("isCreating",!0)}));case m.EDIT_PROFILE:return e.withMutations((function(e){e.set("validationModel",new j),e.set("isUpdating",!0)}));case m.DELETE_PROFILE:return e.set("isDeleting",!0);case m.GET_PROFILE_BY_ID:return e.set("isLoadingUserProfile",!0);case m.GET_PROFILE:case m.LOG_OUT_USER:return e.set("isLoading",!0);case m.LOG_IN_USER_SUCCESS:return e.set("isLoggedIn",!0);case m.LOG_OUT_USER_SUCCESS:return e.withMutations((function(e){e.set("isLoggedIn",!1),e.set("isLoading",!1)}));case m.SIGN_UP_USER_SUCCESS:return e.withMutations((function(e){e.set("user",new p(t.payload)),e.set("isCreating",!1)}));case m.EDIT_PROFILE_SUCCESS:return e.withMutations((function(e){e.set("user",new p(t.payload)),e.set("isUpdating",!1)}));case m.DELETE_PROFILE_SUCCESS:return e.set("isDeleting",!1);case m.GET_PROFILE_BY_ID_SUCCESS:return e.withMutations((function(e){e.set("userProfile",new p(t.payload.user)),e.set("isLoadingUserProfile",!1)}));case m.GET_PROFILE_SUCCESS:return e.withMutations((function(e){e.set("user",new p(t.payload)),e.set("isLoading",!1)}));case m.LOG_IN_USER_ERROR:case m.SIGN_UP_USER_ERROR:case m.EDIT_PROFILE_ERROR:return e.set("validationModel",t.payload);case m.DELETE_PROFILE_ERROR:return e.set("isDeleting",!1);case m.GET_PROFILE_BY_ID_ERROR:return e.set("isLoadingUserProfile",!1);case m.CHECK_USER_LOGGED_IN:var n=localStorage.getItem("auth_token");return e.set("isLoggedIn",null!==n&&""!==n);default:return e}},R=n(111),S=Object(R.combineReducers)({auth:x,flower:v}),w=function(e,t){return S(e,t)},y=n(17),L=n.n(y),F=n(76),C=function(e){return{type:m.LOG_IN_USER,payload:e}},I=function(){return{type:m.LOG_IN_USER_SUCCESS,payload:{}}},U=function(e){return{type:m.LOG_IN_USER_ERROR,payload:e}},k=function(){return{type:m.LOG_OUT_USER,payload:{}}},T=function(){return{type:m.LOG_OUT_USER_SUCCESS,payload:{}}},A=function(e){return{type:m.SIGN_UP_USER,payload:e}},M=function(e){return{type:m.SIGN_UP_USER_SUCCESS,payload:e}},P=function(e){return{type:m.SIGN_UP_USER_ERROR,payload:e}},N=function(){return{type:m.GET_PROFILE,payload:{}}},G=function(e){return{type:m.GET_PROFILE_SUCCESS,payload:e}},D=function(e){return{type:m.GET_PROFILE_BY_ID,payload:e}},V=function(e){return{type:m.GET_PROFILE_BY_ID_SUCCESS,payload:e}},W=function(){return{type:m.CHECK_USER_LOGGED_IN,payload:{}}},B=function(e){return{type:m.EDIT_PROFILE,payload:e}},Y=function(e){return{type:m.EDIT_PROFILE_SUCCESS,payload:e}},J=function(e){return{type:m.EDIT_PROFILE_ERROR,payload:e}},z=function(e){return{type:m.DELETE_PROFILE,payload:e}},H=function(e){return{type:m.DELETE_PROFILE_ERROR,payload:e}},Q=function(e){return{type:m.DELETE_PROFILE_ERROR,payload:e}},q=n(112),K=n.n(q),Z="GET",X="POST",$="PUT",ee="DELETE",te=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getJson",value:function(e){return this._do(Z,e,void 0)}},{key:"postJson",value:function(e,t){return this._do(X,e,t)}},{key:"putJson",value:function(e,t){return this._do($,e,t)}},{key:"deleteJson",value:function(e,t){return this._do(ee,e,t)}},{key:"_do",value:function(e,t,n){var a=localStorage.getItem("auth_token"),r=a?"Bearer ".concat(a):null,s={"Content-Type":"application/json",Accept:"application/json"};return r&&(s.Authorization=r),K()({method:e,url:t,data:n,headers:s,withCredentials:!0}).then((function(e){return{response:e}})).catch((function(e){return{errorResponse:e}}))}}]),e}(),ne=n(65),ae=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"logIn",value:function(t){return te.postJson("".concat(e.baseUrl,"/login"),t)}},{key:"signUp",value:function(t){return te.postJson("".concat(e.baseUrl,"/register"),t)}},{key:"editProfile",value:function(t){return te.putJson("".concat(e.baseUrl,"/").concat(t.id),t)}},{key:"deleteProfile",value:function(t){return te.deleteJson("".concat(e.baseUrl,"/").concat(t))}},{key:"getProfile",value:function(){return te.getJson("".concat(e.baseUrl,"/me"))}},{key:"getProfileById",value:function(t){return te.getJson("".concat(e.baseUrl,"/").concat(t))}},{key:"baseUrl",get:function(){return"".concat(ne.proxyBaseUrl,"/users")}}]),e}(),re=200,se=n(9),oe=L.a.mark(he),ie=L.a.mark(fe),ce=L.a.mark(ge),le=L.a.mark(be),ue=L.a.mark(Oe),de=L.a.mark(je),pe=L.a.mark(Ee);function he(e){var t,n,a,r,s,o;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(se.b)(ae.logIn,e.payload);case 2:if(t=i.sent,n=t.response,a=t.errorResponse,!n){i.next=12;break}if(n.status!==re){i.next=10;break}return localStorage.setItem("auth_token",n.data.access_token),i.next=10,Object(se.c)(I());case 10:i.next=18;break;case 12:if(!a){i.next=18;break}return(o=new j).isValid=!1,o.validationMessages=o.validationMessages.push(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error),i.next=18,Object(se.c)(U(o));case 18:case"end":return i.stop()}}),oe)}function fe(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("auth_token",""),e.next=3,Object(se.c)(T());case 3:case"end":return e.stop()}}),ie)}function ge(e){var t,n,a,r,s,o;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(se.b)(ae.signUp,e.payload);case 2:if(t=i.sent,n=t.response,a=t.errorResponse,!n){i.next=11;break}if(n.status!==re){i.next=9;break}return i.next=9,Object(se.c)(M(n.data.user));case 9:i.next=17;break;case 11:if(!a){i.next=17;break}return(o=new j).isValid=!1,Object.values(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors).forEach((function(e){return o.validationMessages=o.validationMessages.push(e[0])})),i.next=17,Object(se.c)(P(o));case 17:case"end":return i.stop()}}),ce)}function be(e){var t,n,a,r,s,o;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(se.b)(ae.editProfile,e.payload);case 2:if(t=i.sent,n=t.response,a=t.errorResponse,!n){i.next=11;break}if(n.status!==re){i.next=9;break}return i.next=9,Object(se.c)(Y(n.data.user));case 9:i.next=17;break;case 11:if(!a){i.next=17;break}return(o=new j).isValid=!1,Object.values(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors).forEach((function(e){return o.validationMessages=o.validationMessages.push(e[0])})),i.next=17,Object(se.c)(J(o));case 17:case"end":return i.stop()}}),le)}function Oe(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(ae.deleteProfile,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n){r.next=11;break}if(n.status!==re){r.next=9;break}return r.next=9,Object(se.c)(Q());case 9:r.next=15;break;case 11:if(!a){r.next=15;break}return console.log(a),r.next=15,Object(se.c)(H());case 15:case"end":return r.stop()}}),ue)}function je(){var e,t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(se.b)(ae.getProfile);case 2:if(e=a.sent,t=e.response,n=e.errorResponse,!t){a.next=11;break}if(t.status!==re){a.next=9;break}return a.next=9,Object(se.c)(G(t.data));case 9:a.next=12;break;case 11:n&&console.log("Following error occurred: ",n);case 12:case"end":return a.stop()}}),de)}function Ee(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(ae.getProfileById,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n){r.next=11;break}if(n.status!==re){r.next=9;break}return r.next=9,Object(se.c)(V(n.data));case 9:r.next=12;break;case 11:a&&console.log("Following error occurred: ",a);case 12:case"end":return r.stop()}}),pe)}var ve=[Object(se.d)(m.LOG_IN_USER,he),Object(se.d)(m.SIGN_UP_USER,ge),Object(se.d)(m.EDIT_PROFILE,be),Object(se.d)(m.DELETE_PROFILE,Oe),Object(se.d)(m.GET_PROFILE,je),Object(se.d)(m.LOG_OUT_USER,fe),Object(se.d)(m.GET_PROFILE_BY_ID,Ee)],me=function(e){return{type:b.CREATE_FLOWER,payload:e}},_e=function(e){return{type:b.CREATE_FLOWER_SUCCESS,payload:e}},xe=function(e){return{type:b.CREATE_FLOWER_ERROR,payload:e}},Re=function(e){return{type:b.UPDATE_FLOWER,payload:e}},Se=function(e){return{type:b.UPDATE_FLOWER_ERROR,payload:e}},we=function(e){return{type:b.UPDATE_FLOWER_SUCCESS,payload:e}},ye=function(){return{type:b.GET_RANDOM_FLOWERS,payload:{}}},Le=function(e){return{type:b.GET_RANDOM_FLOWERS_SUCCESS,payload:e}},Fe=function(){return{type:b.GET_RANDOM_FLOWERS_ERROR,payload:{}}},Ce=function(e){return{type:b.GET_FLOWER_BY_ID,payload:e}},Ie=function(e){return{type:b.GET_FLOWER_BY_ID_SUCCESS,payload:e}},Ue=function(){return{type:b.GET_FLOWER_BY_ID_ERROR,payload:{}}},ke=function(){return{type:b.GET_FLOWERS,payload:{}}},Te=function(e){return{type:b.GET_FLOWERS_SUCCESS,payload:e}},Ae=function(){return{type:b.GET_FLOWERS_ERROR,payload:{}}},Me=function(e){return{type:b.GET_FLOWERS_FILTERED,payload:e}},Pe=function(e){return{type:b.GET_FLOWERS_FILTERED_SUCCESS,payload:e}},Ne=function(){return{type:b.GET_FLOWERS_FILTERED_ERROR,payload:{}}},Ge=function(){return{type:b.GET_FAVORITE_FLOWERS,payload:{}}},De=function(e){return{type:b.GET_FAVORITE_FLOWERS_SUCCESS,payload:e}},Ve=function(){return{type:b.GET_FAVORITE_FLOWERS_SUCCESS,payload:{}}},We=function(e){return{type:b.MARK_FLOWER_FAVORITE,payload:e}},Be=function(){return{type:b.MARK_FLOWER_FAVORITE_SUCCESS,payload:{}}},Ye=function(e){return{type:b.SET_SIGHTNINGS_SUCCESS,payload:e}},Je=function(){return{type:b.SET_SIGHTNINGS_ERROR,payload:{}}},ze=function(e){return{type:b.DELETE_FLOWER,payload:e}},He=function(e){return{type:b.DELETE_FLOWER_ERROR,payload:e}},Qe=function(){return{type:b.DELETE_FLOWER_SUCCESS}},qe=function(){return{type:b.RESET_FLOWERS,payload:{}}},Ke=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"createFlower",value:function(t){return te.postJson("".concat(e.baseUrl),t)}},{key:"updateFlower",value:function(t){return te.putJson("".concat(e.baseUrl,"/").concat(t.id),t)}},{key:"getFlowerById",value:function(t){return te.getJson("".concat(e.baseUrl,"/").concat(t))}},{key:"getFlowersFiltered",value:function(t){return te.getJson("".concat(e.baseUrl,"/search?query=").concat(t))}},{key:"getFlowers",value:function(){return te.getJson("".concat(e.baseUrl))}},{key:"getRandomFlowers",value:function(){return te.getJson("".concat(e.baseUrl,"/random"))}},{key:"getFavoriteFlowers",value:function(){return te.getJson("".concat(e.baseUrl,"/favorites"))}},{key:"markFlowerFavorite",value:function(t){return te.putJson("".concat(e.baseUrl,"/").concat(t,"/favorites"))}},{key:"setSightings",value:function(t){return te.putJson("".concat(e.baseUrl,"/").concat(t.id,"/sightnings"),t)}},{key:"deleteFlower",value:function(t){return te.deleteJson("".concat(e.baseUrl,"/").concat(t))}},{key:"baseUrl",get:function(){return"".concat(ne.proxyBaseUrl,"/flowers")}}]),e}(),Ze=L.a.mark(it),Xe=L.a.mark(ct),$e=L.a.mark(lt),et=L.a.mark(ut),tt=L.a.mark(dt),nt=L.a.mark(pt),at=L.a.mark(ht),rt=L.a.mark(ft),st=L.a.mark(gt),ot=L.a.mark(bt);function it(e){var t,n,a,r,s,o;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(se.b)(Ke.createFlower,e.payload);case 2:if(t=i.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){i.next=10;break}return i.next=8,Object(se.c)(_e(n.data));case 8:i.next=16;break;case 10:if(!a){i.next=16;break}return(o=new j).isValid=!1,Object.values(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors).forEach((function(e){return o.validationMessages=o.validationMessages.push(e[0])})),i.next=16,Object(se.c)(xe(o));case 16:case"end":return i.stop()}}),Ze)}function ct(e){var t,n,a,r,s,o;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(e.payload),i.next=3,Object(se.b)(Ke.updateFlower,e.payload);case 3:if(t=i.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){i.next=11;break}return i.next=9,Object(se.c)(we(n.data));case 9:i.next=17;break;case 11:if(!a){i.next=17;break}return(o=new j).isValid=!1,Object.values(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors).forEach((function(e){return o.validationMessages=o.validationMessages.push(e[0])})),i.next=17,Object(se.c)(Se(o));case 17:case"end":return i.stop()}}),Xe)}function lt(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(Ke.setSightings,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){r.next=10;break}return r.next=8,Object(se.c)(Ye(n.data));case 8:r.next=14;break;case 10:if(!a){r.next=14;break}return r.next=13,Object(se.c)(Je());case 13:console.log("Following error occurred: ",a);case 14:case"end":return r.stop()}}),$e)}function ut(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(Ke.getFlowerById,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){r.next=10;break}return r.next=8,Object(se.c)(Ie(n.data.flower));case 8:r.next=14;break;case 10:if(!a){r.next=14;break}return r.next=13,Object(se.c)(Ue());case 13:console.log("Following error occurred: ",a);case 14:case"end":return r.stop()}}),et)}function dt(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(Ke.getFlowersFiltered,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){r.next=10;break}return r.next=8,Object(se.c)(Pe(n.data));case 8:r.next=14;break;case 10:if(!a){r.next=14;break}return r.next=13,Object(se.c)(Ne());case 13:console.log("Following error occurred: ",a);case 14:case"end":return r.stop()}}),tt)}function pt(){var e,t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(se.b)(Ke.getFlowers);case 2:if(e=a.sent,t=e.response,n=e.errorResponse,!t||t.status!==re){a.next=10;break}return a.next=8,Object(se.c)(Te(t.data));case 8:a.next=14;break;case 10:if(!n){a.next=14;break}return a.next=13,Object(se.c)(Ae());case 13:console.log("Following error occurred: ",n);case 14:case"end":return a.stop()}}),nt)}function ht(){var e,t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(se.b)(Ke.getRandomFlowers);case 2:if(e=a.sent,t=e.response,n=e.errorResponse,!t||t.status!==re){a.next=10;break}return a.next=8,Object(se.c)(Le(t.data));case 8:a.next=14;break;case 10:if(!n){a.next=14;break}return a.next=13,Object(se.c)(Fe());case 13:console.log("Following error occurred: ",n);case 14:case"end":return a.stop()}}),at)}function ft(){var e,t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(se.b)(Ke.getFavoriteFlowers);case 2:if(e=a.sent,t=e.response,n=e.errorResponse,console.log(t),!t||t.status!==re){a.next=11;break}return a.next=9,Object(se.c)(De(t.data));case 9:a.next=15;break;case 11:if(!n){a.next=15;break}return console.log("Following error occurred: ",n),a.next=15,Object(se.c)(Ve());case 15:case"end":return a.stop()}}),rt)}function gt(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(Ke.markFlowerFavorite,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n||n.status!==re){r.next=10;break}return r.next=8,Object(se.c)(Be());case 8:r.next=11;break;case 10:a&&console.log("Following error occurred: ",a);case 11:case"end":return r.stop()}}),st)}function bt(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(se.b)(Ke.deleteFlower,e.payload);case 2:if(t=r.sent,n=t.response,a=t.errorResponse,!n){r.next=11;break}if(n.status!==re){r.next=9;break}return r.next=9,Object(se.c)(Qe());case 9:r.next=15;break;case 11:if(!a){r.next=15;break}return console.log(a),r.next=15,Object(se.c)(He());case 15:case"end":return r.stop()}}),ot)}var Ot=[Object(se.d)(b.GET_FLOWERS,pt),Object(se.d)(b.GET_FLOWERS_FILTERED,dt),Object(se.d)(b.GET_FAVORITE_FLOWERS,ft),Object(se.d)(b.GET_FLOWER_BY_ID,ut),Object(se.d)(b.CREATE_FLOWER,it),Object(se.d)(b.UPDATE_FLOWER,ct),Object(se.d)(b.MARK_FLOWER_FAVORITE,gt),Object(se.d)(b.GET_RANDOM_FLOWERS,ht),Object(se.d)(b.SET_SIGHTNINGS,lt),Object(se.d)(b.DELETE_FLOWER,bt)],jt=L.a.mark(vt),Et=[].concat(Object(F.a)(ve),Object(F.a)(Ot));function vt(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)(Object(F.a)(Et));case 2:case"end":return e.stop()}}),jt)}var mt=n(122),_t=n(41),xt=Object(mt.a)(),Rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_t.c;var St=n(20),wt=n(24),yt=n(16),Lt=n(15),Ft=n(2),Ct=n.n(Ft),It="name",Ut="latin_name",kt="description",Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"undefined"===typeof e||null===e||"string"===typeof e&&e.replace(/\s/g,"").length<t},At=function(e){var t=new j;return Tt(e[It])&&(t.validationMessages=t.validationMessages.push("Name is required"),t.isValid=!1),Tt(e[Ut])&&(t.validationMessages=t.validationMessages.push("Latin name is required"),t.isValid=!1),Tt(e[kt])&&(t.validationMessages=t.validationMessages.push("Description is required"),t.isValid=!1),t},Mt=n(235),Pt=n(233),Nt=n(115),Gt=(n(46),"name"),Dt="latin_name",Vt="description",Wt="profile_picture",Bt=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._onPropertyChange=function(t,n){var a=e.props,r=a.flower,s=a.onPropertyChange,o=Object.assign(Object.create(Object.getPrototypeOf(r)),r);o[t]=n,s(o,At(o))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.flower,r=t.onSave;return Object(a.jsxs)(Mt.a,{horizontal:"true",children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Name"}),Object(a.jsx)("input",{onChange:function(t){return e._onPropertyChange([Gt],t.target.value)},value:n[Gt],className:"input"})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Latin Name"}),Object(a.jsx)("input",{onChange:function(t){return e._onPropertyChange([Dt],t.target.value)},value:n[Dt],className:"input"})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Description"}),Object(a.jsx)("input",{as:"textarea",onChange:function(t){return e._onPropertyChange([Vt],t.target.value)},value:n[Vt],className:"input"})]})}),Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)(Nt.a,{md:3,children:Object(a.jsx)("label",{className:"label",children:"Profile Picture"})}),Object(a.jsx)(Nt.a,{children:Object(a.jsx)(Mt.a.File,{className:"file-input",onChange:function(t){return e._onPropertyChange([Wt],t.target.files[0])}})})]}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),r()},children:n.id?"Update Flower":"Create Flower"})})})]})}}],[{key:"propTypes",get:function(){return{flower:Ct.a.instanceOf(h),onPropertyChange:Ct.a.func,onSave:Ct.a.func}}}]),n}(r.Component),Yt=function(e){return e.get("flower")},Jt={getFlowers:function(e){return Yt(e).get("flowers")},getFlower:function(e){return Yt(e).get("flower")},getValidationModel:function(e){return Yt(e).get("validationModel")},isCreating:function(e){return Yt(e).get("isCreating")},isUpdating:function(e){return Yt(e).get("isUpdating")},isLoading:function(e){return Yt(e).get("isLoading")},isLoadingFlowers:function(e){return Yt(e).get("isLoadingFlowers")},isMarkedAsFavorite:function(e){return Yt(e).get("isMarkedAsFavorite")}},zt=(n(47),function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,r=e.show,s=e.onHide,i=e.width;return Object(o.createPortal)(Object(a.jsx)("div",{className:"modal-bg",style:{opacity:r?"1":"0"},children:Object(a.jsxs)("div",{className:"modal-wrapper",style:{transform:r?"translateY(0vh)":"translateY(-100vh)",width:i?"".concat(i,"px"):"440px"},children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("div",{className:"modal-title-wrapper",children:Object(a.jsx)("p",{className:"modal-title",children:t})}),Object(a.jsx)("span",{className:"close-modal-btn",onClick:s,children:"x"})]}),Object(a.jsx)("div",{className:"modal-content",style:{padding:i?"0 4rem 3rem 4rem":"0 1.5rem"},children:Object(a.jsx)("div",{className:"modal-body",children:n})})]})}),document.getElementById("modal_root"))}}],[{key:"propTypes",get:function(){return{children:Ct.a.any,onHide:Ct.a.func,show:Ct.a.bool,title:Ct.a.string,width:Ct.a.number}}}]),n}(r.Component)),Ht=n(238),Qt=(n(159),function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.validationModel.validationMessages;return this.props.show?Object(a.jsx)(Ht.a,{variant:"danger",children:1===e.length?e.first():Object(a.jsxs)("ul",{className:"validation-list m-0",children:[" ",e.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))]})}):null}}],[{key:"propTypes",get:function(){return{show:Ct.a.bool,validationModel:Ct.a.instanceOf(j)}}}]),n}(r.Component)),qt=n(23),Kt=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onPropertyChange=function(e,t){a.setState({flower:e,validationModel:t})},a._onSave=function(){var e=a.state.flower,t=a.props,n=t.createFlower,r=t.updateFlower,s=t.history,o=At(e);if(console.log(o),a.setState({validationModel:o,showValidationError:!o.isValid}),o.isValid){var i=new FormData;e.profile_picture.name?i.append("profile_picture",e.profile_picture,e.profile_picture.name):i.append("id",e.id),i.append("name",e.name),i.append("description",e.description),i.append("latin_name",e.latin_name),e.id?(r(e),s.push("/".concat(e.id))):n(i)}},a._resetFlower=function(){a.setState({flower:new h,validationModel:new j,showValidationError:!1})},a.state={flower:new h,validationModel:new j,showValidationError:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getFlowerById,n=e.match;console.log(n.params),n.params.id&&t(n.params.id)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.validationModel,a=t.isCreating,r=t.location,s=t.history,o=t.getFlowers;e.isLoading&&!this.props.isLoading&&this.setState({flower:this.props.flower}),e.validationModel.isValid!==n.isValid&&this.setState({validationModel:n,showValidationError:!0}),e.isCreating&&!a&&(s.push(r.pathname),o(),this._resetFlower())}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,r=this.state,s=r.flower,o=r.validationModel,i=r.showValidationError,c=new URLSearchParams(n.search),l={title:s.id?"Update flower":"Add new flower",show:!!c.get("create"),onHide:function(){return t.push(n.pathname)},width:600},u={flower:s,onPropertyChange:this._onPropertyChange,onSave:this._onSave};return c.get("create")&&Object(a.jsxs)(zt,Object(wt.a)(Object(wt.a)({},l),{},{children:[Object(a.jsx)(Qt,{show:i&&!o.isValid,validationModel:o}),Object(a.jsx)(Bt,Object(wt.a)({},u))]}))}}],[{key:"propTypes",get:function(){return{history:Ct.a.object,isLoggedIn:Ct.a.bool,isCreating:Ct.a.bool,getFlowers:Ct.a.func,getFlowerById:Ct.a.func,location:Ct.a.object,createFlower:Ct.a.func,validationModel:Ct.a.instanceOf(j),flower:Ct.a.instanceOf(h),isLoading:Ct.a.bool,updateFlower:Ct.a.func,match:Ct.a.object}}}]),n}(r.Component),Zt=Object(qt.f)(Object(St.b)((function(e){return{flower:Jt.getFlower(e),isCreating:Jt.isCreating(e),isLoading:Jt.isLoading(e),validationModel:Jt.getValidationModel(e)}}),(function(e){return{createFlower:function(t){return e(me(t))},getFlowers:function(){return e(ke())},getFlowerById:function(t){return e(Ce(t))},updateFlower:function(t){return e(Re(t))}}}))(Kt)),Xt=function(e){return e.get("auth")},$t={getUser:function(e){return Xt(e).get("user")},getValidationModel:function(e){return Xt(e).get("validationModel")},isCreating:function(e){return Xt(e).get("isCreating")},isLoggedIn:function(e){return Xt(e).get("isLoggedIn")},isLoading:function(e){return Xt(e).get("isLoading")},isUpdating:function(e){return Xt(e).get("isUpdating")},isRemoving:function(e){return Xt(e).get("isRemoving")},isLoadingUserProfile:function(e){return Xt(e).get("isLoadingUserProfile")},geetUserProfile:function(e){return Xt(e).get("userProfile")}},en=(n(78),n(25)),tn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.flower,s=n.user,o=n.deleteFlower;return Object(a.jsx)("div",{className:"flower-header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)(Nt.a,{md:12,lg:6,className:"mx-auto",children:Object(a.jsx)("div",{className:"card border-0",children:Object(a.jsx)("img",{src:r.profile_picture,className:"card-img",alt:"",width:100,height:350})})}),Object(a.jsxs)(Nt.a,{md:12,lg:6,className:"mx-auto",children:[Object(a.jsx)("h2",{children:r.name}),Object(a.jsx)("h3",{children:r.latin_name}),Object(a.jsx)("p",{children:r.description}),Object(a.jsxs)("h3",{children:["Sightings: ",Object(a.jsx)("b",{children:r.sightnings})]}),Object(a.jsx)(en.b,{to:{pathname:location.pathname,search:"?userprofile=true?id=".concat(r.created_by.id)},style:{color:"white"},className:"no-underline",children:Object(a.jsxs)("p",{children:["Posted by: ",Object(a.jsx)("b",{children:"".concat(null===(e=r.created_by)||void 0===e?void 0:e.first_name," ").concat(null===(t=r.created_by)||void 0===t?void 0:t.last_name)})]})}),(s.id===r.created_by.id||s.is_admin)&&Object(a.jsx)("p",{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"form-btn-white mr-3",onClick:function(e){e.preventDefault()},children:Object(a.jsx)(en.b,{to:{pathname:location.pathname,search:"?create=true"},className:"no-underline",children:"Update Flower"})}),Object(a.jsx)("button",{className:"form-btn-red",onClick:function(e){e.preventDefault(),o()},children:"Delete Flower"})]})})]})]})})})}}],[{key:"propTypes",get:function(){return{flower:Ct.a.instanceOf(h),user:Ct.a.instanceOf(p),isLoggedIn:Ct.a.bool,deleteFlower:Ct.a.func}}}]),n}(r.Component),nn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._deleteFlower=function(){var e=a.props,t=e.deleteFlower,n=e.history;t(e.match.params.id),n.push("/")},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getFlowerById)(e.match.params.id)}},{key:"componentDidUpdate",value:function(e){if(e.isUpdating&&!this.props.isUpdating){var t=this.props;(0,t.getFlowerById)(t.match.params.id)}}},{key:"render",value:function(){var e=this.props,t=e.flower,n=e.isLoggedIn,r=e.user;return Object(a.jsx)(tn,{flower:t,isLoggedIn:n,user:r,deleteFlower:this._deleteFlower})}}],[{key:"propTypes",get:function(){return{flower:Ct.a.instanceOf(h),getFlowerById:Ct.a.func,isLoading:Ct.a.bool,isUpdating:Ct.a.bool,isLoggedIn:Ct.a.bool,match:Ct.a.object,user:Ct.a.object,deleteFlower:Ct.a.func,location:Ct.a.object,history:Ct.a.object}}}]),n}(r.Component),an=Object(qt.f)(Object(St.b)((function(e){return{flower:Jt.getFlower(e),isLoading:Jt.isLoading(e),isLoggedIn:$t.isLoggedIn(e),isUpdating:Jt.isUpdating(e),user:$t.getUser(e)}}),(function(e){return{getFlowerById:function(t){return e(Ce(t))},deleteFlower:function(t){return e(ze(t))}}}))(nn)),rn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.flower,n=e.isLoggedIn,r=e.onStarClick,s=e.onItemClick;return Object(a.jsx)(Nt.a,{lg:3,md:4,sm:6,xs:6,children:Object(a.jsxs)("div",{className:"card border-0 flower-card",onClick:function(){return s(t)},children:[Object(a.jsx)("img",{src:t.profile_picture,className:"card-img",alt:"",width:280,height:350}),Object(a.jsxs)("div",{className:"card-img-overlay",children:[n&&Object(a.jsx)("button",{className:"flower-star ".concat(t.favorite?"flower-star-favorite":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t.id)},children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAYAAAC5tzfZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADUSURBVHgBlVDRDYJADH2t4d8R9EcxgcAIjqIToBOoG7CBcQQngQQM8OU5B8lVjgghAQVfcmn7+l57d8AA0izbpXkhSZZth/o8RBLxqW4SXyeZzBYBFiY30dS9oVEUzS3LWmA28yE0J6agMdUCQGnRN2GOuSxVWR165MWzKxqDGcIacscfkErPrm0fRPRlkqHSOZWeGiLJ85BAwVcHU+isVsc6be+qofALWr9af7uaRz6DyOuZCOx1JOrzTtUyAr9nasQQvXfs9dLdbM4mmrrmCXEjegPmclOmDXUeCgAAAABJRU5ErkJggg==",className:"flower-star-img"})}),Object(a.jsx)("p",{className:"font-weight-bold p-2 flower-heading",children:t.name}),Object(a.jsx)("p",{className:"font-weight-bold p-2 flower-subheading",children:t.latin_name}),Object(a.jsx)("div",{className:"flower-sightings-wrapper",children:Object(a.jsx)("button",{className:"font-weight-bold p-2 flower-sightings",children:Object(a.jsxs)("span",{className:"flower-sightings-text",children:[t.sightings," sightings"]})})})]})]})})}}],[{key:"propTypes",get:function(){return{flower:Ct.a.instanceOf(h),isLoggedIn:Ct.a.bool,onStarClick:Ct.a.func,onItemClick:Ct.a.func}}}]),n}(r.Component),sn=n(234),on=n(118),cn=n(119),ln=(n(165),function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onFilterChange=function(e){a.setState({filter:e})},a.state={filter:""},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.state.filter,n=this.props.getFlowersFiltered;e.filter!==this.state.filter&&n(t)}},{key:"render",value:function(){var e=this;return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)(Nt.a,{lg:12,className:"mx-auto",children:Object(a.jsx)("h1",{children:"Discover flowers around you"})}),Object(a.jsxs)(Nt.a,{lg:7,className:"mx-auto",children:[Object(a.jsx)("p",{className:"text-faded mb-5",children:"Explore between more than 8.427 sightings"}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{onChange:function(t){return e._onFilterChange(t.target.value)},placeholder:"Looking for something specific?",className:"form-control py-2 search-input",type:"text",name:"search"}),Object(a.jsx)(sn.a,{className:"search-btn",children:Object(a.jsx)(on.a,{icon:cn.faSearch,className:"search-icon"})})]})]})]})})})}}],[{key:"propTypes",get:function(){return{getFlowersFiltered:Ct.a.func}}}]),n}(r.Component)),un=Object(St.b)(null,(function(e){return{getFlowersFiltered:function(t){return e(Me(t))}}}))(ln),dn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onStarClick=function(e){(0,a.props.markFlowerFavorite)(e)},a._onItemClick=function(e){var t=a.props,n=t.history,r=t.updateFlower;n.push("/".concat(e.id));var s=e;s.sightnings=Number(s.sightnings)+1,r(s)},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getFlowers()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.getFlowers,a=t.getRandomFlowers,r=t.isMarkedAsFavorite,s=t.isLoadingUser,o=t.isLoggedIn;e.isMarkedAsFavorite&&!r&&n(),e.isLoadingUser&&!s&&(o?n():a()),e.isLoggedIn!==this.props.isLoggedIn&&a()}},{key:"componentWillUnmount",value:function(){this.props.resetFlowers()}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowers,r=t.isLoggedIn;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(un,{}),Object(a.jsx)("div",{className:"container-fluid flower-container",children:Object(a.jsx)(Pt.a,{children:n.map((function(t,n){return Object(a.jsx)(rn,{flower:t,isLoggedIn:r,onStarClick:e._onStarClick,onItemClick:e._onItemClick},n)}))})})]})}}],[{key:"propTypes",get:function(){return{checkUserIsLoggedIn:Ct.a.func,getFlowers:Ct.a.func,getRandomFlowers:Ct.a.func,flowers:Ct.a.instanceOf(O.List),isLoggedIn:Ct.a.bool,isLoadingUser:Ct.a.bool,isMarkedAsFavorite:Ct.a.bool,markFlowerFavorite:Ct.a.func,history:Ct.a.bool,resetFlowers:Ct.a.func,updateFlower:Ct.a.func}}}]),n}(r.Component),pn=Object(St.b)((function(e){return{flowers:Jt.getFlowers(e),isLoggedIn:$t.isLoggedIn(e),isLoadingUser:$t.isLoading(e),isMarkedAsFavorite:Jt.isMarkedAsFavorite(e)}}),(function(e){return{checkUserIsLoggedIn:function(){return e(W())},getFlowers:function(){return e(ke())},getRandomFlowers:function(){return e(ye())},markFlowerFavorite:function(t){return e(We(t))},updateFlower:function(t){return e(Re(t))},resetFlowers:function(){return e(qe())}}}))(dn),hn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.checkUserIsLoggedIn,n=e.isLoggedIn,a=e.getFavoriteFlowers;t(),n&&a()}},{key:"componentDidUpdate",value:function(e){e.isLoggedIn!=this.props.isLoggedIn&&(0,this.props.getFavoriteFlowers)()}},{key:"componentWillUnmount",value:function(){this.props.resetFlowers()}},{key:"render",value:function(){var e=this.props,t=e.flowers,n=e.isLoggedIn;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"container-fluid flower-container",children:Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)(Nt.a,{lg:12,className:"mx-auto",children:Object(a.jsx)("p",{className:"fav-header",children:n?0===t.size?"No flowers found":"Favorite Flowers":"Please log in to view your favorite flowers"})}),0!==t.size&&t.map((function(e,t){return Object(a.jsx)(rn,{flower:e,isLoggedIn:n},t)}))]})})})}}],[{key:"propTypes",get:function(){return{checkUserIsLoggedIn:Ct.a.func,getFavoriteFlowers:Ct.a.func,flowers:Ct.a.instanceOf(O.List),isLoggedIn:Ct.a.bool,resetFlowers:Ct.a.func}}}]),n}(r.Component),fn=Object(St.b)((function(e){return{flowers:Jt.getFlowers(e),isLoggedIn:$t.isLoggedIn(e)}}),(function(e){return{getFavoriteFlowers:function(){return e(Ge())},checkUserIsLoggedIn:function(){return e(W())},resetFlowers:function(){return e(qe())}}}))(hn),gn="email",bn="password",On=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"undefined"===typeof e||null===e||"string"===typeof e&&e.replace(/\s/g,"").length<t},jn=function(e){var t,n=new j;return On(e[gn])&&(n.validationMessages=n.validationMessages.push("Email address is required"),n.isValid=!1),On(e[bn])&&(n.validationMessages=n.validationMessages.push("Passwrod is required"),n.isValid=!1),On(e[bn],6)&&(n.validationMessages=n.validationMessages.push("Password is too short (minimum is 6 characters)"),n.isValid=!1),t=e[gn],/.+@.+\.[A-Za-z]+$/.test(t)||(n.validationMessages=n.validationMessages.push("Please enter a valid email address"),n.isValid=!1),n},En="email",vn="password",mn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._onPropertyChange=function(t,n){var a=e.props,r=a.user,s=a.onPropertyChange,o=Object.assign(Object.create(Object.getPrototypeOf(r)),r);o[t]=n,s(o,jn(o))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.onSave;return Object(a.jsxs)(Mt.a,{horizontal:"true",children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Email Address"}),Object(a.jsx)("input",{onChange:function(t){return e._onPropertyChange([En],t.target.value)},value:n[En],className:"input"})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Password"}),Object(a.jsx)("input",{onChange:function(t){return e._onPropertyChange([vn],t.target.value)},value:n[vn],className:"input",type:"password"})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),r()},children:"Login to your Account"})})})]})}}],[{key:"propTypes",get:function(){return{user:Ct.a.instanceOf(p),onPropertyChange:Ct.a.func,onSave:Ct.a.func}}}]),n}(r.Component),_n=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSave,n=e.onProfileClick;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Nt.a,{children:Object(a.jsx)("p",{className:"sign-up-success-text",children:"Congratulations! You have successfully logged into FlowrSpot!"})})}),Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),t()},children:"OK"})}),Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),n()},children:"PROFILE"})})]})]})}}],[{key:"propTypes",get:function(){return{onSave:Ct.a.func,onProfileClick:Ct.a.func}}}]),n}(r.Component),xn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onPropertyChange=function(e,t){a.setState({user:e,validationModel:t})},a._onSave=function(){var e=a.state.user,t=a.props.logInUser,n=jn(e);a.setState({validationModel:n,showValidationError:!n.isValid}),n.isValid&&t(e.mapToLogInApi())},a._onLogInSuccessSave=function(){var e=a.props,t=e.history,n=e.location;a.setState({showLogInSuccessModal:!1,user:new p,validationModel:new j,showValidationError:!1},(function(){return t.push(n.pathname)}))},a._onProfileClick=function(){var e=a.props,t=e.history,n=e.location;a.setState({showLogInSuccessModal:!1,user:new p,validationModel:new j,showValidationError:!1},(function(){return t.push({pathname:n.pathname,search:"?profile=true"})}))},a.state={user:new p,validationModel:new j,showLogInSuccessModal:!1,showValidationError:!1},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.isLoggedIn!==this.props.isLoggedIn&&this.setState({showLogInSuccessModal:!!this.state.user.email}),e.validationModel.isValid!==this.props.validationModel.isValid&&this.setState({validationModel:this.props.validationModel,showValidationError:!0})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,r=this.state,s=r.user,o=r.validationModel,i=r.showLogInSuccessModal,c=r.showValidationError,l=new URLSearchParams(n.search),u={title:"Welcome Back",show:!!l.get("login"),onHide:function(){return t.push(n.pathname)}},d={user:s,onPropertyChange:this._onPropertyChange,onSave:this._onSave};return l.get("login")&&Object(a.jsx)(zt,Object(wt.a)(Object(wt.a)({},u),{},{children:i?Object(a.jsx)(_n,{onSave:this._onLogInSuccessSave,onProfileClick:this._onProfileClick}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qt,{show:c&&!o.isValid,validationModel:o}),Object(a.jsx)(mn,Object(wt.a)({},d))]})}))}}],[{key:"propTypes",get:function(){return{history:Ct.a.object,isLoggedIn:Ct.a.bool,location:Ct.a.object,logInUser:Ct.a.func,validationModel:Ct.a.instanceOf(j)}}}]),n}(r.Component),Rn=Object(qt.f)(Object(St.b)((function(e){return{isLoggedIn:$t.isLoggedIn(e),validationModel:$t.getValidationModel(e)}}),(function(e){return{logInUser:function(t){return e(C(t))}}}))(xn)),Sn=n.p+"static/media/logo.46b37d33.svg",wn=n(237),yn=n(236),Ln=(n(166),function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onSignUpHide=function(e){a.setState({showSignUpModal:!1,showLogInModal:e})},a._onLogInHide=function(e){a.setState({showLogInModal:!1,showProfileModal:e})},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.checkUserIsLoggedIn)()}},{key:"componentDidUpdate",value:function(e){e.isLoggedIn!==this.props.isLoggedIn&&!0===this.props.isLoggedIn&&this.props.getProfile()}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.user,r=e.location;return Object(a.jsxs)(wn.a,{className:"navbar",collapseOnSelect:!0,expand:"lg",children:[Object(a.jsx)(wn.a.Brand,{children:Object(a.jsx)(en.b,{to:"/",children:Object(a.jsx)("img",{src:Sn,width:"169",height:"30",alt:""})})}),Object(a.jsx)(wn.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"border-0"}),Object(a.jsx)(wn.a.Collapse,{id:"responsive-navbar-nav",children:Object(a.jsxs)(yn.a,{className:"ml-auto d-flex align-items-center",children:[t&&Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)(en.b,{to:{pathname:r.pathname,search:"?create=true"},className:"no-underline",children:Object(a.jsx)("span",{className:"navbar-link navbar-login-item",children:"Post new Flower"})})}),Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)("span",{className:"navbar-link",children:"Flowers"})}),Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)("span",{className:"navbar-link",children:"Latest Sightings"})}),Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)(en.b,{to:"/favorites",className:"no-underline",children:Object(a.jsx)("span",{className:"navbar-link",children:"Favorites"})})}),t?Object(a.jsx)(yn.a.Item,{children:Object(a.jsxs)(en.b,{to:{pathname:r.pathname,search:"?profile=true"},className:"no-underline",children:[Object(a.jsx)("span",{className:"navbar-link",children:n.is_admin?"".concat(n.first_name):"".concat(n.first_name," ").concat(n.last_name)}),Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1ySURBVHgBnVhrbBTXFf7msTv79q69fvJa80gxGGNjQkIh2CAiNVXTNlVTRYrU0laVolQpTqWq/VHJuKrUh1QBP6IIKhWShqpNlEfVhiYNKQbiAAnENmBsbMwuxsY2fq2978fc6bkzs+s1kECYZLB3vHPvd79zzvedewU84HWxs7c5y9R6iEITNK2eHnn5LQgC/3OY7pAGNcSY2i2KaG9oaGjHA1zCl/lyZ2en12p17WYqa8mk096bw2M4dbwD3d0XUVZWjtq6tXj8680wMGo0Osu/q2laiP5tTya1ts2bG0L3O+d9AeTAFLunVWOshc8bm4vhzdfewJkzZxCem4EkWQiAAKZp+M53n8K3v/ekOTLjwApB6rcgiIcBtY1YDd1rbvleX+jrD+6mUfcwxvTwaSrDP155E6dOtiOZiaPSYUHT2pWYSzOUFHvA1AREUaI3VVqLUADMZITTq2GXRVKaL1241FZbV3v4gQH29wf3Eistxqr5wBpujc9gZHgYFpbAkw9VIeC1YePDa1GydAkEWcJ4NIFMJgPZKhpR5ovS34cJkn4RRGiCEBAF8VDf5f71q9c89OLnYRDv9rCzM+jtHwgdpwFbCkPEZ5kYHUdFWQXcNitETUQiFkNsdg6pRAIsraLI4UA4NKgDMQsmD9K4NJ1dHn7jOWvpu3ylk6fRfQP0FMkETmvWoOeLMZHxPyoXVRI7FoQzlIuiHb1RAT1RDRcGJ8EUDz7uuorMxNiC8XIRuP2eX7dQ77S7374vgMHg8F7CVS/oL2r0BaYDEzUjo/wVJRCoKBaXV6GsvBI+KQmv14uxKz348MgRlFuAconeY2qevUIwJqQ7gWpCc3//wN4vBHg1OLyLAtCiQTOHIZkQODA+GX/KZSMLe/ASfB4vyhaVY4mnGA2lHpQVeZBKZ7Bu9QpUL10KazKRZ2+eyXmAtwuIPicTWwb6BlruCjAYHA1YRKlVQC4k2vwgFGY9xDzR6bnfY8GGtatw9kIPFUUcScmKvptT0GxedHUOoLP7MqLxKG6/FhC5IC8Fk1WaVxJbC/MxD1CS0ErTByhpzYcF+QfM/yRbqH/mWbjoY//oFLpmYhgcGYGNmK1rrIO/ajEcdgnTsQzuGkr9qcZXmh+3kE/65PW6ilsXAOTs0Su7GDP0SjMFdl6/tILBgZJVAaxp2ganw4mxaApHz3ZSYTngUQSUlhahZ3QaDm9J4WsFxAnIq43Jop7dwvyXGdQWriR5gJJFbCX7IicgYEzLV50xg/FiYS7Jsqxno0NLYDqVwon+6zh0/ir+/uFpTMSTSLv9cHlc5nK0BYvVx4YhigskzPw1N7fXg5Y8QJZVm3loyS3MlwpB3v0SNRVVUgTblpfCq1gQyaRwZmQCB949hnVNW83JoFvgPHs5LJrxQchHGncWjrBbJyMYvNFMzAWYuUK9cjG/mlxYCj/zKz0zieV+NxbXrEYzs2I2mkTxosXwlhTD4y6iaKjIo7zbpQkLqqagJHPkeIMDwWaZSGvm8efsCTkpKfDN+fAYdyrDcPnsRVgvvQ9vsRsrllVBdBcjNjWr6+IsVbSK+fAxJizoagzL0wzgplLoWajpHm3g5iCZznM919/1qprVAfIiKVgit6EF4JJZGX859AF+88eX0DWVwDIqFoEKxeHzwkHMRUlyQteCOPa/01CZlh+PhzmXf8zMccYLEbkUEObJ1sznuoqgWfrpCz/7FaGtgJm8eo3xxfCVMzlfxfGUFa+8dgwfvN8OXlC9w5OIiC7UrFoKl90Oi0UhUGncJCZ///LrOHnqPMKzcRR5ecgdpujneaT/CiVMNOYulCPjd5vQd2Vwhub3FoZVp17LSQCByzpw9OhZ/Oud44gl6OuZGNTMLHiNlRfLeHrnI9i2biV8TisO/u09vPFJH/3JApmqnMGCyiUrsK5+Lb71ja1ki079PZnsUhAJpu4BIiRuBvw3ySBUNDtzobd30CyknKEzvfEEdSoc81SY4c+H3sfpE+/SgJxRESrdFkRp8iwxrcCKGbicPizyl2D4VgTh5BStUaZp09TPpZEBz0sbFi1bhT2/3kWMOskYqBuSjDlFQdIZ4z91wIKWZ1SmLvmOatKTW8tiajqCI28N4dPTJ8j845Q/CuF20GqJV8FGXVOKBs0go3kwF41ggjobibNCsPQGw+LCqq8sR3V1FW6Oz6HncgiH/3oMLzz/TTMfjZZLkPSAGwXDJCOCpnDLqsrCsix4+YNC0+ADXBmMY/DqIITkEE2pEhOyLh855ViyeBE2Pbwe6WwW42R3oaHrWFa9GhsaVmDzls2oWbMSqqohS2Juc9rR1PQ0TnZ0o3HDKmzdvA6cHIk81kglnRazMRZNrdTCsiCyMNMErwAsEGb+0tDIHGYnr0GiMBmkp+kPCok0kScqeHTro3jx59/XBxcpNomkCsVK7NG7owMjOPfex2CzCaiyiGUbVyAejRHzCtrbz+Grj9RCkgtkLF+gLK+TVOEhkWjuyslJITj+MUEtUyoVyYddpJwTkaIFCnoLNnRjUh/PQixItDiXXdYr3EqA7EUuzAyN6nkqsAz6LvbTQrNEkoorwQmEw/F5yWELtVaPEsehCtdFCsGJXFxzVmfcDOnYJGRRzGcnZ8b0Rh0gI/3MqCpPWD2HeCVaaS+S5RpITIZnZxGNRBALU+HMxoy+ksaI0b7ls88uFvixZvQB5rzGE5UD7aJNU4YYtC7o1XIgF5VRE5VJIu+TQm5ACUywwEsdTIhYTCZSSCSoWLJMd4KJiQgG+kdQR3sXpOKIpxOkj1FdC0WuEmocH39yBTt2bDQchAu6JBjSrQmmtxAhotYu8x0/bbz5SYC30HP5vWJ5pa55+ZzgUiCmTc+mvUjvTbzz1knYbDYUFRlSarUr6Ll4Fel0EjFXOUqK3BDiEkb6B6jEknDRZmtL3UqsWGxDZnYaNp9fXxQvGJ7HutUawh2qqalpl43QYj9pT6sBbr7lCZA8FJOFTY2O6cnLQ6Rpkgk4i8jsDKJzs8SCiqSV9NCmIEntlsRzUHYi6inFDQq14vBjJnEadVU+vPDM4yQ9AV0VEtkJjKokIHz3K5j+y3erlMeiJLbrMmPMlt3HmNQq6vmmmb7M9NWsq6tF+9gVPdGLFQ1Lyr3w+ctgs7sRoegnI1Pw+YqQooLiAUiRrFhp1yeRJXApS9JkMjFc4XeBjVH+kbaqGY1Ay/CIDOHEFBLOUqOG9fwT9XHSabTlAVKYw92dl/YTcbsL22A+SVWVF8Wyiq1lMh5ZU40lK1eiOBCA1eGBosg43p/AuWEVdqpgviDFaiVf5jcXbb3XhJrOYsdXKvDvHoZz586jotiC8spyvcjcDmKSGM7ta82iOdzQUBsqYJBLZGYP7ap+AOOUCrlwP75zE7K9HYhc7cYoNQK+yjg8qTTlGs9tEQ1VMg6/fQrxxBzW1tTC71SwafMmco4whMg4YmkRw8ODcLB+PLOjERPj48iSsCepoGxOt257tyhfiVITnBCilr8thyEPkLN4/nxnG+XeXqMtNxOWWFha34h3u7sg3ZqBh060PGWlUFxFsCoKPFaGXz5WRIdIFupmhjGmlOGxpjWYmZqG3HcGVlL1zGo/FKFYF2arcyMsLi9kigCnJUsLUyhvUxa73jyoWbWtcdP8odKCs5nGxoZ9FILAfKiNaq7e0IDUETtGZuJwh4ZRWuangnBCVGywksE7eXjpVMFeXoGBD8/irVdfx0OrV6J+6UqyMpG3JoY3600By/uuQKJtEa1QKB0SlH+Us/sbNzUeLsQk4bbr4MGD7/3kx8818y1oDqBITjF16xZCwRtUKAxu8lWH3UZ5Z+eKiGw0jBTpor+yCh6nE394+VWUhEcQKPPBQgWiZdNIh6eQjoSRpqrPxOaoChK0+SLGUhmEU2QKFnvXxk0bn7odzx0A+fX8s8/9Myuzr1FVVeSe+cvL0dF+CqKagU+R4C8tgYUYlOwusjU/3KR3Ngs5SXwa9cUiZscnEaRGY/DadWq2NHjoeIQlYkhOT0GNRRGnXLxxaQDRmShSjpJ2yed54sCBA8nbsXzhAWZHxyf7RFHbzVlUydLefvU19HZ8hA3kMFu3PYxFgeVkxApsLicssoXaK3Ikyqnk9CjslGdQ3NRiXcUHHZ1wFZdgRaUPlV47Rm9OwFa5DGnZTqzG9//ot3taPg/DPU9YOzpO79Ig0b45GxgJXsNLv/sTVpM0bKt/CI8+8QRtosiPyc74IRMXWpvDRnkl0ykssRSJ6k5xlIxKoGZ2Q8Ny8vcYnJ4iKhg5TF1z27bt2/Z90fzivQBu2bL5cCatbqe+8RVPaRWx4kQwDgzdHMfMjSGULKlG+aoaOGhSjfq+vs8u4HzHp7g+eB3Tsh//HStFwrcW7tJq0k0b3MQkGcJ+TWDV9wLHr3seAfNr+/bNIfqx6+VD/9mjysqeyajY1DM6F1h+sZcOLtP8XAdT42MYn4xgeC5FpyuLIXvWQAHt+pzUhpHgR9MC9Z1sP5nVvu07t4dxn9eXOuUvvHbW1jb/sG5586yqrP8oNB6YlH0Ba1G5N1CzCQ6XJ+x2WsPUJ3ZJFsuJWCrTtecXT7bjAa7/A6J+z6DlELykAAAAAElFTkSuQmCC"})]})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)(en.b,{to:{pathname:r.pathname,search:"?login=true"},className:"no-underline",children:Object(a.jsx)("span",{className:"navbar-link navbar-login-item",children:"Log In"})})}),Object(a.jsx)(yn.a.Item,{children:Object(a.jsx)(en.b,{to:{pathname:r.pathname,search:"?signup=true"},className:"no-underline",children:Object(a.jsx)("span",{className:"navbar-link navbar-btn",children:"New Account"})})})]})]})})]})}}],[{key:"propTypes",get:function(){return{checkUserIsLoggedIn:Ct.a.func,getProfile:Ct.a.func,isLoggedIn:Ct.a.bool,location:Ct.a.object,user:Ct.a.instanceOf(p)}}}]),n}(r.Component)),Fn=Object(qt.f)(Object(St.b)((function(e){return{isLoggedIn:$t.isLoggedIn(e),user:$t.getUser(e)}}),(function(e){return{checkUserIsLoggedIn:function(){return e(W())},getProfile:function(){return e(N())}}}))(Ln)),Cn="first_name",In="last_name",Un="email",kn="date_of_birth",Tn="password",An=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"undefined"===typeof e||null===e||"string"===typeof e&&e.replace(/\s/g,"").length<t},Mn=function(e){return/.+@.+\.[A-Za-z]+$/.test(e)},Pn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new j;return An(e[Cn])&&(n.validationMessages=n.validationMessages.push("First name is required"),n.isValid=!1),An(e[In])&&(n.validationMessages=n.validationMessages.push("Last name is required"),n.isValid=!1),t&&An(e[Un])&&(n.validationMessages=n.validationMessages.push("Email address is required"),n.isValid=!1),An(e[kn])&&(n.validationMessages=n.validationMessages.push("Date of birth is required"),n.isValid=!1),t&&(An(e[Tn])&&(n.validationMessages=n.validationMessages.push("Passwrod is required"),n.isValid=!1),An(e[Tn],6)&&(n.validationMessages=n.validationMessages.push("Password is too short (minimum is 6 characters)"),n.isValid=!1)),Mn(e[Un])||(n.validationMessages=n.validationMessages.push("Please enter a valid email address"),n.isValid=!1),n},Nn=n(67),Gn=n.n(Nn),Dn=n.p+"static/media/profile-holder.85bbd9bf.png",Vn=(n(104),"first_name"),Wn="last_name",Bn="email",Yn="date_of_birth",Jn="password",zn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._onPropertyChange=function(t,n){var a=e.props,r=a.user,s=a.onPropertyChange,o=a.isEditingProfile,i=Object.assign(Object.create(Object.getPrototypeOf(r)),r);i[t]=n,s(i,Pn(i,!o))},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.user,s=n.onSave,o=n.onDelete,i=n.onEditProfile,c=n.onLogout,l=n.isEditingProfile;return Object(a.jsxs)(Mt.a,{horizontal:"true",children:[l&&Object(a.jsxs)(Pt.a,{className:"profile-header",children:[Object(a.jsx)(Nt.a,{lg:3,children:Object(a.jsx)("img",{src:Dn,width:80,height:80,className:"profile-img"})}),Object(a.jsxs)(Nt.a,{className:"my-auto",children:[Object(a.jsx)("span",{className:"profile-header-tex d-block",children:"".concat(r[Vn]," ").concat(r[Wn])}),Object(a.jsx)("label",{className:"profile-header-label",children:"47 sightnings"})]})]}),Object(a.jsxs)(Pt.a,{children:[Object(a.jsxs)(Nt.a,{lg:6,children:[Object(a.jsx)("label",{className:"label",children:"First Name"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([Vn],e.target.value)},value:r[Vn],className:"input"})]}),Object(a.jsxs)(Nt.a,{lg:6,children:[Object(a.jsx)("label",{className:"label",children:"Last Name"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([Wn],e.target.value)},value:r[Wn],className:"input"})]})]}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Date of Birth"}),Object(a.jsx)(Gn.a,{onChange:function(e){return t._onPropertyChange(Yn,d()(e))},selected:null===(e=r[Yn])||void 0===e?void 0:e.toDate(),className:"input"})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Email Address"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([Bn],e.target.value)},value:r[Bn],className:"input",readOnly:l})]})}),!l&&Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Password"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([Jn],e.target.value)},value:r[Jn],className:"input",type:"password"})]})}),Object(a.jsx)(Pt.a,{children:l?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),i()},children:"Update Account"})}),Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),o()},children:"Delete Account"})}),Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),c()},children:"Logout"})})]}):Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(e){e.preventDefault(),s()},children:"Create Account"})})})]})}}],[{key:"propTypes",get:function(){return{user:Ct.a.instanceOf(p),onPropertyChange:Ct.a.func,onSave:Ct.a.func,onLogout:Ct.a.func,onEditProfile:Ct.a.func,onDelete:Ct.a.func,isEditingProfile:Ct.a.bool}}}]),n}(r.Component),Hn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onPropertyChange=function(e,t){a.setState({user:e,validationModel:t})},a._onLogOut=function(){var e=a.props,t=e.history,n=e.logOutUser,r=e.location;n(),t.push(r.pathname)},a._onDelete=function(){var e=a.props;(0,e.deleteProfile)(e.user.id),a._onLogOut()},a._onEditProfile=function(){var e=a.state.user,t=a.props,n=t.editProfile,r=t.history,s=t.location,o=Pn(e,!1);a.setState({validationModel:o,showValidationError:!o.isValid}),o.isValid&&(n(e.mapToSignUpApi()),r.push(s.pathname))},a.state={user:new p,validationModel:new j,showValidationError:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.isLoggedIn&&this.props.getProfile()}},{key:"componentDidUpdate",value:function(e){e.isLoading&&!this.props.isLoading&&this.setState({user:this.props.user}),e.isLoggedIn!==this.props.isLoggedIn&&!0===this.props.isLoggedIn&&this.props.getProfile(),e.validationModel.isValid!==this.props.validationModel.isValid&&this.setState({validationModel:this.props.validationModel,showValidationError:!0})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,r=this.state,s=r.user,o=r.showValidationError,i=r.validationModel,c=new URLSearchParams(n.search),l={title:"",show:!!c.get("profile"),onHide:function(){return t.push(n.pathname)},width:600},u={user:s,onLogout:this._onLogOut,onDelete:this._onDelete,onEditProfile:this._onEditProfile,onPropertyChange:this._onPropertyChange,isEditingProfile:!0};return c.get("profile")&&Object(a.jsxs)(zt,Object(wt.a)(Object(wt.a)({},l),{},{children:[Object(a.jsx)(Qt,{show:o&&!i.isValid,validationModel:i}),Object(a.jsx)(zn,Object(wt.a)({},u))]}))}}],[{key:"propTypes",get:function(){return{history:Ct.a.object,isLoggedIn:Ct.a.bool,isLoading:Ct.a.bool,getProfile:Ct.a.func,editProfile:Ct.a.func,deleteProfile:Ct.a.func,location:Ct.a.object,logOutUser:Ct.a.func,user:Ct.a.instanceOf(p),validationModel:Ct.a.instanceOf(j)}}}]),n}(r.Component),Qn=Object(qt.f)(Object(St.b)((function(e){return{user:$t.getUser(e),isLoggedIn:$t.isLoggedIn(e),isLoading:$t.isLoading(e),validationModel:$t.getValidationModel(e)}}),(function(e){return{getProfile:function(){return e(N())},logOutUser:function(){return e(k())},editProfile:function(t){return e(B(t))},deleteProfile:function(t){return e(z(t))}}}))(Hn)),qn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.onSave;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Nt.a,{children:Object(a.jsx)("p",{className:"sign-up-success-text",children:"Congratulations! You have successfully signed up for FlowrSpot!"})})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Nt.a,{children:Object(a.jsx)("button",{className:"form-btn signup-btn",onClick:function(t){t.preventDefault(),e()},children:"OK"})})})]})}}],[{key:"propTypes",get:function(){return{onSave:Ct.a.func}}}]),n}(r.Component),Kn=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._onPropertyChange=function(e,t){a.setState({user:e,validationModel:t})},a._onSave=function(){var e=a.state.user,t=a.props.signUpUser,n=Pn(e);a.setState({validationModel:n,showValidationError:!n.isValid}),n.isValid&&t(e.mapToSignUpApi())},a._onSignUpSuccessSave=function(){var e=a.props,t=e.location,n=e.history;a.setState({user:new p,validationModel:new j,showSignUpSuccessModal:!1,showValidationError:!1},(function(){return n.push({pathname:t.pathname,search:"?login=true"})}))},a.state={user:new p,validationModel:new j,showSignUpSuccessModal:!1,showValidationError:!1},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.isCreating&&!this.props.isCreating&&this.setState({showSignUpSuccessModal:!0}),e.validationModel.isValid!==this.props.validationModel.isValid&&this.setState({validationModel:this.props.validationModel,showValidationError:!0})}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.history,r=this.state,s=r.user,o=r.validationModel,i=r.showSignUpSuccessModal,c=r.showValidationError,l=new URLSearchParams(t.search),u={title:"Create an Account",show:!!l.get("signup"),onHide:function(){return n.push(t.pathname)}},d={user:s,onPropertyChange:this._onPropertyChange,onSave:this._onSave};return l.get("signup")&&Object(a.jsx)(zt,Object(wt.a)(Object(wt.a)({},u),{},{children:i?Object(a.jsx)(qn,{onSave:this._onSignUpSuccessSave}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qt,{show:c&&!o.isValid,validationModel:o}),Object(a.jsx)(zn,Object(wt.a)({},d))]})}))}}],[{key:"propTypes",get:function(){return{isCreating:Ct.a.bool,history:Ct.a.object,location:Ct.a.object,signUpUser:Ct.a.func,validationModel:Ct.a.instanceOf(j)}}}]),n}(r.Component),Zn=Object(qt.f)(Object(St.b)((function(e){return{isCreating:$t.isCreating(e),validationModel:$t.getValidationModel(e)}}),(function(e){return{signUpUser:function(t){return e(A(t))}}}))(Kn)),Xn="first_name",$n="last_name",ea="email",ta="date_of_birth",na=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._onPropertyChange=function(t,n){var a=e.props,r=a.user,s=a.onPropertyChange,o=a.isEditingProfile,i=Object.assign(Object.create(Object.getPrototypeOf(r)),r);i[t]=n,s(i,Pn(i,!o))},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.user;return Object(a.jsxs)(Mt.a,{horizontal:"true",children:[Object(a.jsxs)(Pt.a,{className:"profile-header",children:[Object(a.jsx)(Nt.a,{lg:3,children:Object(a.jsx)("img",{src:Dn,width:80,height:80,className:"profile-img"})}),Object(a.jsxs)(Nt.a,{className:"my-auto",children:[Object(a.jsx)("span",{className:"profile-header-tex d-block",children:"".concat(n[Xn]," ").concat(n[$n])}),Object(a.jsx)("label",{className:"profile-header-label",children:"47 sightnings"})]})]}),Object(a.jsxs)(Pt.a,{children:[Object(a.jsxs)(Nt.a,{lg:6,children:[Object(a.jsx)("label",{className:"label",children:"First Name"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([Xn],e.target.value)},value:n[Xn],className:"input",readOnly:!0})]}),Object(a.jsxs)(Nt.a,{lg:6,children:[Object(a.jsx)("label",{className:"label",children:"Last Name"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([$n],e.target.value)},value:n[$n],className:"input",readOnly:!0})]})]}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Date of Birth"}),Object(a.jsx)(Gn.a,{onChange:function(e){return t._onPropertyChange(ta,d()(e))},selected:null===(e=n[ta])||void 0===e?void 0:e.toDate(),className:"input",readOnly:!0})]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(Nt.a,{children:[Object(a.jsx)("label",{className:"label",children:"Email Address"}),Object(a.jsx)("input",{onChange:function(e){return t._onPropertyChange([ea],e.target.value)},value:n[ea],className:"input",readOnly:!0})]})})]})}}],[{key:"propTypes",get:function(){return{user:Ct.a.instanceOf(p),onPropertyChange:Ct.a.func,onSave:Ct.a.func,onLogout:Ct.a.func,onEditProfile:Ct.a.func,onDelete:Ct.a.func,isEditingProfile:Ct.a.bool,includeButtons:Ct.a.bool}}}]),n}(r.Component),aa=function(e){Object(yt.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={user:new p},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getProfileById,n=e.location;console.log(n.search.substring(21,57)),t(n.search.substring(21,57))}},{key:"componentDidUpdate",value:function(e){e.isLoading&&!this.props.isLoading&&this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,r=this.state.user,s=new URLSearchParams(n.search),o={title:"",show:!!s.get("userprofile"),onHide:function(){return t.push(n.pathname)},width:600},i={user:r,includeButtons:!1};return s.get("userprofile")&&Object(a.jsx)(zt,Object(wt.a)(Object(wt.a)({},o),{},{children:Object(a.jsx)(na,Object(wt.a)({},i))}))}}],[{key:"propTypes",get:function(){return{history:Ct.a.object,isLoggedIn:Ct.a.bool,isLoading:Ct.a.bool,getProfileById:Ct.a.func,location:Ct.a.object,user:Ct.a.instanceOf(p)}}}]),n}(r.Component),ra=Object(qt.f)(Object(St.b)((function(e){return{user:$t.geetUserProfile(e),isLoggedIn:$t.isLoggedIn(e),isLoading:$t.isLoadingUserProfile(e)}}),(function(e){return{getProfileById:function(t){return e(D(t))}}}))(aa)),sa=function(){return Object(a.jsxs)(en.a,{children:[Object(a.jsx)(Fn,{}),Object(a.jsxs)(qt.c,{children:[Object(a.jsx)(qt.a,{exact:!0,path:"/",component:pn}),Object(a.jsx)(qt.a,{path:"/favorites",component:fn}),Object(a.jsx)(qt.a,{exact:!0,path:"/:id",component:an})]}),Object(a.jsx)(qt.a,{path:"/",component:Rn}),Object(a.jsx)(qt.a,{path:"/",component:Zn}),Object(a.jsx)(qt.a,{path:"/",component:Qn}),Object(a.jsx)(qt.a,{path:"/",component:ra}),Object(a.jsx)(qt.a,{path:"/",component:Zt}),Object(a.jsx)(qt.a,{path:"/",component:Zt})]})},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(O.Map)(),t=[xt],n=Rt(_t.a.apply(void 0,t)),a=Object(_t.d)(w,e,n);return xt.run(vt),a}();var ia=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(St.a,{store:oa,children:Object(a.jsx)(sa,{})})})},ca=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};n(226);i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(ia,{})}),document.getElementById("root")),ca()},46:function(e,t,n){},47:function(e,t,n){},65:function(e){e.exports=JSON.parse('{"proxyBaseUrl":"https://flowerspot-server.herokuapp.com/api"}')},78:function(e,t,n){}},[[227,1,2]]]);
//# sourceMappingURL=main.2da40975.chunk.js.map